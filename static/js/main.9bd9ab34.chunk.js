(this["webpackJsonplocal-cards-app"]=this["webpackJsonplocal-cards-app"]||[]).push([[0],{11:function(e,t,n){e.exports={container:"personalInformation_container__3dTGK",title:"personalInformation_title__2JiWd",ava:"personalInformation_ava__2aN2M",input_container:"personalInformation_input_container__38AZ2",button_container:"personalInformation_button_container__aLPc5"}},14:function(e,t,n){e.exports={input:"SuperInputText_input__3shWS",superInput:"SuperInputText_superInput__39g7U",errorInput:"SuperInputText_errorInput__375qZ",error:"SuperInputText_error__1jQFV"}},19:function(e,t,n){e.exports={nav:"Header_nav___BKkR",item:"Header_item__3VOcF",active:"Header_active__1aX-g"}},20:function(e,t,n){e.exports={label:"SuperCheckbox_label__2rxwZ"}},24:function(e,t,n){e.exports={default:"SuperButton_default__Mc-U8"}},25:function(e,t,n){e.exports={container:"preloader_container__2C76n",loader:"preloader_loader__1JtT2",spin:"preloader_spin__UNlg3"}},41:function(e,t,n){},42:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n(17),s=n.n(c),i=(n(41),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))}),o=(n(42),n(6)),u=n(12),l=n(19),j=n.n(l),p=n(2),b=n(1),d=function(){return Object(b.jsx)("div",{children:"Error 404"})},O=function(){return Object(b.jsx)("div",{children:"Registration"})},h=n(5),f=n(9),_=n.n(f),m=n(3),x=n(10),v=n(24),g=n.n(v),I=Object(r.memo)((function(e){var t=e.red,n=e.className,a=Object(x.a)(e,["red","className"]),r="".concat(t?g.a.red:g.a.default," ").concat(n);return Object(b.jsx)("button",Object(m.a)({className:r},a))})),E=function(e){return e.app.status},S=function(e){return e.app.isLoggedIn},N=function(e){return e.app.isInitialized},T=function(e){return e.profile},C=n(8),A=n.n(C),P=n(13);!function(e){e.SET_IS_LOGGED_IN="Auth/SET-IS-LOGGED-IN",e.SET_ERROR_MESSAGE="App/SET-ERROR-MESSAGE",e.CHANGE_OPERATION_STATUS="App/CHANGE-OPERATION-STATUS",e.SET_INITIALIZATION="App/SET-INITIALIZATION"}(a||(a={}));var R,w=function(e){return{type:a.SET_IS_LOGGED_IN,payload:{isLoggedIn:e}}},y=function(e){return{type:a.CHANGE_OPERATION_STATUS,payload:{status:e}}};!function(e){e.UPDATE_PROFILE="profile/UPDATE-PROFILE",e.SET_USER_DATA="profile/SET-USER-DATA"}(R||(R={}));var k,L=function(e){return{type:R.SET_USER_DATA,payload:Object(m.a)({},e)}},G=function(e){return{type:R.UPDATE_PROFILE,payload:Object(m.a)({},e)}},U=n(35),D=n.n(U).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0"}),F=function(e,t,n){return D.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},M=function(){return D.post("/auth/me",{})},H=function(e){return D.put("/auth/me",e)},Z=function(){return D.delete("/auth/me/",{})},J={isLoggedIn:!1,isInitialized:!1,errorMessage:null,status:"idle"},B=Object(r.memo)((function(e){var t=e.changeProfileEditingStatus,n=Object(o.b)(),c=Object(o.c)(T),s=Object(r.useCallback)((function(){t(!0)}),[t]),i=Object(r.useCallback)((function(){n(function(){var e=Object(P.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z();case 3:t(w(!1)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t((n=e.t0,{type:a.SET_ERROR_MESSAGE,payload:{errorMessage:n}}));case 9:case"end":return e.stop()}var n}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())}),[n]);return Object(b.jsx)("div",{className:_.a.container,children:Object(b.jsxs)("div",{className:_.a.info_block,children:[Object(b.jsxs)("div",{className:_.a.inner_info_top,children:[Object(b.jsx)("img",{alt:"avatar",src:c.avatar,className:_.a.ava}),Object(b.jsx)("div",{className:_.a.name,children:c.name}),Object(b.jsx)(I,{onClick:s,children:"Edit Profile"})]}),Object(b.jsx)("div",{className:_.a.inner_info_bottom,children:Object(b.jsx)("div",{className:_.a.logout_button,children:Object(b.jsx)(I,{onClick:i,children:"Logout"})})})]})})})),K=n(11),z=n.n(K),Q=n(14),V=n.n(Q),W=Object(r.memo)((function(e){e.type;var t=e.onChange,n=e.onChangeText,a=e.onKeyPress,r=e.onEnter,c=e.error,s=e.className,i=e.spanClassName,o=Object(x.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),u="".concat(V.a.error," ").concat(i||""),l="".concat(c?V.a.errorInput:V.a.superInput," ").concat(s||V.a.input);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",Object(m.a)({type:"text",onChange:function(e){t&&t(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),r&&"Enter"===e.key&&r()},className:l},o)),c&&Object(b.jsx)("span",{className:u,children:c})]})})),q={_id:"",email:"",name:"",avatar:"",publicCardPacksCount:0,created:new Date,updated:new Date,isAdmin:!1,verified:!1,rememberMe:!1,error:""},X=n(25),Y=n.n(X),$=function(e){var t=e.width,n=e.height;return Object(b.jsx)("div",{className:Y.a.container,children:Object(b.jsx)("div",{style:{width:t,height:n},className:Y.a.loader})})},ee=Object(r.memo)((function(e){var t=e.changeProfileEditingStatus,n=Object(o.b)(),a=Object(o.c)(T),c=Object(o.c)(E),s=Object(r.useState)(a.name),i=Object(h.a)(s,2),u=i[0],l=i[1],j=Object(r.useState)(a.avatar),p=Object(h.a)(j,2),d=p[0],O=p[1],f=Object(r.useCallback)((function(){t(!1)}),[t]),_=Object(r.useCallback)((function(){var e;n((e={name:u,avatar:d},function(){var t=Object(P.a)(A.a.mark((function t(n){var a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(y("loading")),t.next=4,H(e);case 4:a=t.sent,n(G(a.data.updatedUser)),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.prev=10,n(y("completed")),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,8,10,13]])})));return function(e){return t.apply(this,arguments)}}()))}),[n,u,d]),m=u===a.name&&d===a.avatar;return Object(b.jsxs)("div",{className:z.a.container,children:[Object(b.jsx)("div",{className:z.a.title,children:"Personal information"}),Object(b.jsx)("img",{alt:"avatar",src:a.avatar,className:z.a.ava}),Object(b.jsxs)("div",{className:z.a.input_container,children:[Object(b.jsx)("span",{children:"Nickname:"}),Object(b.jsx)(W,{value:u,onChangeText:l}),Object(b.jsx)("span",{children:"URL avatar:"}),Object(b.jsx)(W,{value:d,onChangeText:O})]}),Object(b.jsxs)("div",{className:z.a.button_container,children:[Object(b.jsx)(I,{onClick:f,children:"Cancel"}),Object(b.jsxs)(I,{disabled:m,onClick:_,children:[" ","loading"===c?Object(b.jsx)($,{width:"6px",height:"6px"}):"Save"]})]})]})})),te=function(){var e=Object(r.useState)(!1),t=Object(h.a)(e,2),n=t[0],a=t[1];return n?Object(b.jsx)(ee,{changeProfileEditingStatus:a}):Object(b.jsx)(B,{changeProfileEditingStatus:a})},ne=function(){return Object(b.jsx)("div",{children:"Reset password"})},ae=function(){return Object(b.jsx)("div",{children:"Create new password"})},re=n(20),ce=n.n(re),se=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,a=e.className,r=(e.spanClassName,e.children),c=Object(x.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(ce.a.checkbox," ").concat(a||"");return Object(b.jsxs)("label",{className:ce.a.label,children:[Object(b.jsx)("input",Object(m.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:s},c)),Object(b.jsx)("span",{children:r&&Object(b.jsx)("span",{className:ce.a.spanClassName,children:r})})]})},ie=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(I,{children:"Button "}),Object(b.jsx)("br",{}),Object(b.jsx)(W,{}),Object(b.jsx)("br",{}),Object(b.jsx)(se,{}),Object(b.jsx)("br",{})]})},oe={email:"",name:""},ue=function(){var e=Object(o.b)(),t=Object(r.useState)(""),n=Object(h.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),i=Object(h.a)(s,2),u=i[0],l=i[1],j=Object(r.useState)(!1),p=Object(h.a)(j,2),d=p[0],O=p[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"Sign in"}),Object(b.jsx)("div",{children:"Email"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{value:a,onChange:function(e){return c(e.target.value)}})}),Object(b.jsx)("div",{children:"Password"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{value:u,onChange:function(e){return l(e.target.value)}})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"checkbox",checked:d,onChange:function(){return O(!d)}}),Object(b.jsx)("span",{children:"Remember me"})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(){e(function(e,t,n){return function(a){F(e,t,n).then((function(e){a(function(e,t){return{type:"GET_LOGIN",email:e,name:t}}(e.email,e.name)),a(L(e)),a(w(!0))}))}}(a,u,d)),c(""),l(""),O(!1)},children:"Login"})})]})};!function(e){e.LogIn="/login",e.Registration="/registration",e.Profile="/profile",e.ResetPassword="/resetPassword",e.CreatePassword="/createNewPassword",e.SuperComponents="/superComponents",e.Error404="/*"}(k||(k={}));var le=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)(p.c,{children:[Object(b.jsx)(p.a,{path:"/",element:Object(b.jsx)(te,{})}),Object(b.jsx)(p.a,{path:k.LogIn,element:Object(b.jsx)(ue,{})}),Object(b.jsx)(p.a,{path:k.Registration,element:Object(b.jsx)(O,{})}),Object(b.jsx)(p.a,{path:k.Profile,element:Object(b.jsx)(te,{})}),Object(b.jsx)(p.a,{path:k.ResetPassword,element:Object(b.jsx)(ne,{})}),Object(b.jsx)(p.a,{path:k.CreatePassword,element:Object(b.jsx)(ae,{})}),Object(b.jsx)(p.a,{path:k.SuperComponents,element:Object(b.jsx)(ie,{})}),Object(b.jsx)(p.a,{path:k.Error404,element:Object(b.jsx)(d,{})})]})})},je=[{name:"Login",path:k.LogIn},{name:"Registration",path:k.Registration},{name:"Profile",path:k.Profile},{name:"404",path:k.Error404},{name:"Reset password",path:k.ResetPassword},{name:"Create  password",path:k.CreatePassword},{name:"SuperComponents",path:k.SuperComponents}],pe=function(e){var t=e.path,n=e.name;return Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(u.b,{to:t,className:function(e){return e.isActive?j.a.active:""},children:n})})},be=function(){return Object(b.jsx)("div",{className:j.a.nav,children:je.map((function(e,t){return Object(b.jsx)(pe,{name:e.name,path:e.path},"".concat(e.name,"+").concat(t))}))})},de=function(){var e=Object(o.b)(),t=Object(o.c)(S),n=Object(o.c)(N);return Object(r.useEffect)((function(){e(function(){var e=Object(P.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M();case 3:n=e.sent,t(L(n.data)),t(w(!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(w(!1));case 11:return e.prev=11,t((r=!0,{type:a.SET_INITIALIZATION,payload:{isInitialized:r}})),e.finish(11);case 14:case"end":return e.stop()}var r}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(b.jsx)(u.a,{children:t?Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(be,{}),Object(b.jsx)(le,{})]}):Object(b.jsx)(ue,{})}):Object(b.jsx)($,{width:"40px",height:"40px"})},Oe=n(21),he=n(36),fe={},_e={},me={},xe=Object(Oe.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET_INITIALIZATION:case a.CHANGE_OPERATION_STATUS:case a.SET_IS_LOGGED_IN:case a.SET_ERROR_MESSAGE:return Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},logIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LOGIN":return Object(m.a)(Object(m.a)({},e),{},{email:t.email,name:t.name});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;return t.type,e},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.SET_USER_DATA:case R.UPDATE_PROFILE:return Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},resetPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;return t.type,e},createPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),ve=Object(Oe.c)(xe,Object(Oe.a)(he.a));s.a.render(Object(b.jsx)(o.a,{store:ve,children:Object(b.jsx)(de,{})}),document.getElementById("root")),i()},9:function(e,t,n){e.exports={container:"profileInfo_container__QufAB",info_block:"profileInfo_info_block__1_dJH",inner_info_top:"profileInfo_inner_info_top__3F_a8",ava:"profileInfo_ava__3NeEJ",name:"profileInfo_name__2AOzZ",inner_info_bottom:"profileInfo_inner_info_bottom__2kgha",logout_button:"profileInfo_logout_button__3mlJ6"}}},[[69,1,2]]]);
//# sourceMappingURL=main.9bd9ab34.chunk.js.map