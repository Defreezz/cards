(this["webpackJsonplocal-cards-app"]=this["webpackJsonplocal-cards-app"]||[]).push([[0],{11:function(e,t,n){e.exports={container:"profileInfo_container__2CeM4",info_block:"profileInfo_info_block__1gtAY",inner_info_top:"profileInfo_inner_info_top__1499s",ava:"profileInfo_ava__1zqZO",name:"profileInfo_name__11f_8",inner_info_bottom:"profileInfo_inner_info_bottom__gvXsz",logout_button:"profileInfo_logout_button__15oFy"}},13:function(e,t,n){e.exports={container:"personalInformation_container__2Hgdd",title:"personalInformation_title__2EdO5",ava:"personalInformation_ava__9fVPS",input_container:"personalInformation_input_container__3owfc",button_container:"personalInformation_button_container__1Ly1i"}},14:function(e,t,n){e.exports={input:"SuperInputText_input__1tYCc",superInput:"SuperInputText_superInput__Tnezm",errorInput:"SuperInputText_errorInput__3G_bx",error:"SuperInputText_error__2Y1LY"}},19:function(e,t,n){e.exports={nav:"Header_nav__bVfzE",item:"Header_item__3Zv9m",active:"Header_active__1C81g"}},20:function(e,t,n){e.exports={label:"SuperCheckbox_label__2_4li"}},24:function(e,t,n){e.exports={default:"SuperButton_default__3JxCO"}},25:function(e,t,n){e.exports={container:"preloader_container__1pdrC",loader:"preloader_loader__Ip4sP",spin:"preloader_spin__2c8j8"}},36:function(e,t,n){e.exports={container:"resetPassword_container__3amBu"}},37:function(e,t,n){e.exports={container:"createNewPassword_container__1O2fc"}},43:function(e,t,n){},44:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a,r=n(1),c=n(17),s=n.n(c),o=(n(43),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))}),i=(n(44),n(5)),u=n(9),l=n(19),j=n.n(l),d=n(2),p=n(0),b=function(){return Object(p.jsx)("div",{children:"Error 404"})},O=n(3),h=n(4),f=n(35),x=n.n(f).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0"}),m=function(){return x.post("/auth/me",{})},_=function(e){return x.put("/auth/me",e)},v=function(e,t,n){return x.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},g=function(){return x.delete("/auth/me/",{})},E=function(e){return x.post("/auth/forgot/",{email:e,from:"test-front-admin <yatsevich-artsiom@yandex.by>",message:"<div style='background-color:lime;padding:15px'><a href='https://defreezz.github.io/cards/#/createNewPassword/$token$'>Password recovery link</a></div>"})},I=function(e,t){return x.post("/auth/set-new-password/",{password:e,resetPasswordToken:t})},C=function(e,t){return x.post("/auth/register",{email:e,password:t})},S={},w=function(){var e=Object(i.b)(),t=Object(r.useState)(""),n=Object(O.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),o=Object(O.a)(s,2),u=o[0],l=o[1],j=Object(r.useState)(""),d=Object(O.a)(j,2),b=d[0],h=d[1];return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"400px",margin:"0 auto"},children:[Object(p.jsx)("h1",{children:"Registration"}),Object(p.jsx)("input",{type:"text",placeholder:"E-mail",onChange:function(e){return c(e.currentTarget.value)}}),Object(p.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){return l(e.currentTarget.value)}}),Object(p.jsx)("input",{type:"password",placeholder:"ConfirmPassword",onChange:function(e){return h(e.currentTarget.value)}}),Object(p.jsx)("button",{onClick:function(){u===b&&e(function(e,t){return function(n){C(e,t).then((function(){n({type:"REG-FORM"})}))}}(a,u))},children:"Registration"})]})})},T=n(11),N=n.n(T),P=n(12),y=n(24),k=n.n(y),R=Object(r.memo)((function(e){var t=e.red,n=e.className,a=Object(P.a)(e,["red","className"]),r="".concat(t?k.a.red:k.a.default," ").concat(n);return Object(p.jsx)("button",Object(h.a)({className:r},a))})),A=function(e){return e.app.status},L=function(e){return e.app.isLoggedIn},G=function(e){return e.app.isInitialized},D=function(e){return e.profile},U=n(8),F=n.n(U),M=n(10);!function(e){e.UPDATE_PROFILE="profile/UPDATE-PROFILE",e.SET_USER_DATA="profile/SET-USER-DATA"}(a||(a={}));var z,H=function(e){return{type:a.SET_USER_DATA,payload:Object(h.a)({},e)}},Z=function(e){return{type:a.UPDATE_PROFILE,payload:Object(h.a)({},e)}};!function(e){e.SET_IS_LOGGED_IN="Auth/SET-IS-LOGGED-IN",e.SET_ERROR_MESSAGE="App/SET-ERROR-MESSAGE",e.CHANGE_OPERATION_STATUS="App/CHANGE-OPERATION-STATUS",e.SET_INITIALIZATION="App/SET-INITIALIZATION"}(z||(z={}));var B,Y=function(e){return{type:z.SET_IS_LOGGED_IN,payload:{isLoggedIn:e}}},J=function(e){return{type:z.CHANGE_OPERATION_STATUS,payload:{status:e}}},K={_id:"",email:"",name:"",avatar:"",publicCardPacksCount:0,created:new Date,updated:new Date,isAdmin:!1,verified:!1,rememberMe:!1,error:""},V=function(){return Object(i.b)()},$=Object(r.memo)((function(e){var t=e.changeProfileEditingStatus,n=V(),a=Object(i.c)(D),c=Object(r.useCallback)((function(){t(!0)}),[t]),s=Object(r.useCallback)((function(){n(function(){var e=Object(M.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:t(Y(!1)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t((n=e.t0,{type:z.SET_ERROR_MESSAGE,payload:{errorMessage:n}}));case 9:case"end":return e.stop()}var n}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())}),[n]);return Object(p.jsx)("div",{className:N.a.container,children:Object(p.jsxs)("div",{className:N.a.info_block,children:[Object(p.jsxs)("div",{className:N.a.inner_info_top,children:[Object(p.jsx)("img",{alt:"avatar",src:a.avatar,className:N.a.ava}),Object(p.jsx)("div",{className:N.a.name,children:a.name}),Object(p.jsx)(R,{onClick:c,children:"Edit Profile"})]}),Object(p.jsx)("div",{className:N.a.inner_info_bottom,children:Object(p.jsx)("div",{className:N.a.logout_button,children:Object(p.jsx)(R,{onClick:s,children:"Logout"})})})]})})})),q=n(13),X=n.n(q),Q=n(14),W=n.n(Q),ee=Object(r.memo)((function(e){e.type;var t=e.onChange,n=e.onChangeText,a=e.onKeyPress,r=e.onEnter,c=e.error,s=e.className,o=e.spanClassName,i=Object(P.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),u="".concat(W.a.error," ").concat(o||""),l="".concat(c?W.a.errorInput:W.a.superInput," ").concat(s||W.a.input);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",Object(h.a)({type:"text",onChange:function(e){t&&t(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),r&&"Enter"===e.key&&r()},className:l},i)),c&&Object(p.jsx)("span",{className:u,children:c})]})})),te=n(25),ne=n.n(te),ae=function(e){var t=e.width,n=e.height;return Object(p.jsx)("div",{className:ne.a.container,children:Object(p.jsx)("div",{style:{width:t,height:n},className:ne.a.loader})})},re=Object(r.memo)((function(e){var t=e.changeProfileEditingStatus,n=V(),a=Object(i.c)(D),c=Object(i.c)(A),s=Object(r.useState)(a.name),o=Object(O.a)(s,2),u=o[0],l=o[1],j=Object(r.useState)(a.avatar),d=Object(O.a)(j,2),b=d[0],h=d[1],f=Object(r.useCallback)((function(){t(!1)}),[t]),x=Object(r.useCallback)((function(){var e;n((e={name:u,avatar:b},function(){var t=Object(M.a)(F.a.mark((function t(n){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(J("loading")),t.next=4,_(e);case 4:a=t.sent,n(Z(a.data.updatedUser)),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.prev=10,n(J("completed")),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,8,10,13]])})));return function(e){return t.apply(this,arguments)}}()))}),[n,u,b]),m=u===a.name&&b===a.avatar;return Object(p.jsxs)("div",{className:X.a.container,children:[Object(p.jsx)("div",{className:X.a.title,children:"Personal information"}),Object(p.jsx)("img",{alt:"avatar",src:a.avatar,className:X.a.ava}),Object(p.jsxs)("div",{className:X.a.input_container,children:[Object(p.jsx)("span",{children:"Nickname:"}),Object(p.jsx)(ee,{value:u,onChangeText:l}),Object(p.jsx)("span",{children:"URL avatar:"}),Object(p.jsx)(ee,{value:b,onChangeText:h})]}),Object(p.jsxs)("div",{className:X.a.button_container,children:[Object(p.jsx)(R,{onClick:f,children:"Cancel"}),Object(p.jsxs)(R,{disabled:m,onClick:x,children:[" ","loading"===c?Object(p.jsx)(ae,{width:"6px",height:"6px"}):"Save"]})]})]})})),ce=function(){var e=Object(r.useState)(!1),t=Object(O.a)(e,2),n=t[0],a=t[1];return n?Object(p.jsx)(re,{changeProfileEditingStatus:a}):Object(p.jsx)($,{changeProfileEditingStatus:a})},se=n(36),oe=n.n(se),ie={email:"",name:"",isLogin:!1},ue=function(){var e=Object(r.useState)(""),t=Object(O.a)(e,2),n=t[0],a=t[1],c=V(),s=Object(r.useCallback)((function(){c(function(e){return function(){var t=Object(M.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e);case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()}(n))}),[c,n]);return Object(p.jsxs)("div",{className:oe.a.container,children:[Object(p.jsx)(ee,{value:n,placeholder:"email",onChangeText:a}),Object(p.jsx)(R,{disabled:""===n,onClick:s,children:"Send instructions"})]})},le=n(37),je=n.n(le),de=function(){var e=Object(r.useState)(""),t=Object(O.a)(e,2),n=t[0],a=t[1],c=V(),s=Object(d.g)().token,o=Object(r.useCallback)((function(){c(function(e,t){return function(){var n=Object(M.a)(F.a.mark((function n(a){return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I(e,t);case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}()}(n,s))}),[c,n,s]);return Object(p.jsxs)("div",{children:["Create new password",Object(p.jsxs)("div",{className:je.a.container,children:[Object(p.jsx)(ee,{placeholder:"new password",value:n,onChangeText:a}),Object(p.jsx)(R,{onClick:o,children:"Create new password"})]})]})},pe=n(20),be=n.n(pe),Oe=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,a=e.className,r=(e.spanClassName,e.children),c=Object(P.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(be.a.checkbox," ").concat(a||"");return Object(p.jsxs)("label",{className:be.a.label,children:[Object(p.jsx)("input",Object(h.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:s},c)),Object(p.jsx)("span",{children:r&&Object(p.jsx)("span",{className:be.a.spanClassName,children:r})})]})},he=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(R,{children:"Button "}),Object(p.jsx)("br",{}),Object(p.jsx)(ee,{}),Object(p.jsx)("br",{}),Object(p.jsx)(Oe,{}),Object(p.jsx)("br",{})]})},fe=function(){var e=Object(i.b)(),t=Object(r.useState)(""),n=Object(O.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(r.useState)(!1),b=Object(O.a)(d,2),h=b[0],f=b[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:"Sign in"}),Object(p.jsx)("div",{children:"Email"}),Object(p.jsx)("div",{children:Object(p.jsx)(ee,{value:a,onChange:function(e){return c(e.target.value)}})}),Object(p.jsx)("div",{children:"Password"}),Object(p.jsx)("div",{children:Object(p.jsx)(ee,{value:l,onChange:function(e){return j(e.target.value)}})}),Object(p.jsxs)("div",{children:[Object(p.jsx)(Oe,{checked:h,onChange:function(){return f(!h)}}),Object(p.jsx)("span",{children:"Remember me"})]}),Object(p.jsx)("div",{children:Object(p.jsx)(R,{onClick:function(){e(function(e,t,n){return function(a){v(e,t,n).then((function(e){a(function(e,t){return{type:"GET_LOGIN",email:e,name:t}}(e.email,e.name)),a(H(e)),a(Y(!0))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";console.log("Error: ",t)}))}}(a,l,h)),c(""),j(""),f(!1)},children:"Login"})}),Object(p.jsx)("div",{children:Object(p.jsx)(u.b,{style:{textDecoration:"none",color:"#d39191"},to:B.ResetPassword,children:"Forgot password?"})}),Object(p.jsx)("div",{children:Object(p.jsx)(u.b,{style:{textDecoration:"none",color:"#d39191"},to:B.Registration,children:"Registration"})})]})};!function(e){e.LogIn="/login",e.Registration="/registration",e.Profile="/profile",e.ResetPassword="/resetPassword",e.CreatePassword="/createNewPassword",e.SuperComponents="/superComponents",e.Error404="/*"}(B||(B={}));var xe,me=function(){return Object(p.jsx)("div",{children:Object(p.jsxs)(d.c,{children:[Object(p.jsx)(d.a,{path:"/",element:Object(p.jsx)(ce,{})}),Object(p.jsx)(d.a,{path:B.LogIn,element:Object(p.jsx)(fe,{})}),Object(p.jsx)(d.a,{path:B.Registration,element:Object(p.jsx)(w,{})}),Object(p.jsx)(d.a,{path:B.Profile,element:Object(p.jsx)(ce,{})}),Object(p.jsx)(d.a,{path:B.ResetPassword,element:Object(p.jsx)(ue,{})}),Object(p.jsx)(d.a,{path:B.CreatePassword,element:Object(p.jsx)(de,{})}),Object(p.jsx)(d.a,{path:B.SuperComponents,element:Object(p.jsx)(he,{})}),Object(p.jsx)(d.a,{path:B.Error404,element:Object(p.jsx)(b,{})})]})})},_e=[{name:"Login",path:B.LogIn},{name:"Registration",path:B.Registration},{name:"Profile",path:B.Profile},{name:"404",path:B.Error404},{name:"Reset password",path:B.ResetPassword},{name:"Create  password",path:B.CreatePassword},{name:"SuperComponents",path:B.SuperComponents}],ve=function(e){var t=e.path,n=e.name;return Object(p.jsx)("div",{className:j.a.item,children:Object(p.jsx)(u.b,{to:t,className:function(e){return e.isActive?j.a.active:""},children:n})})},ge=function(){return Object(p.jsx)("div",{className:j.a.nav,children:_e.map((function(e,t){return Object(p.jsx)(ve,{name:e.name,path:e.path},"".concat(e.name,"+").concat(t))}))})},Ee={isLoggedIn:!1,isInitialized:!1,errorMessage:null,status:"idle"};!function(e){e.LogIn="/login",e.Registration="/registration",e.ResetPassword="/resetPassword",e.CreatePassword="/createNewPassword/:token/*"}(xe||(xe={}));var Ie=function(){return Object(p.jsx)("div",{children:Object(p.jsxs)(d.c,{children:[Object(p.jsx)(d.a,{path:"/*",element:Object(p.jsx)(fe,{})}),Object(p.jsx)(d.a,{path:xe.LogIn,element:Object(p.jsx)(fe,{})}),Object(p.jsx)(d.a,{path:xe.Registration,element:Object(p.jsx)(w,{})}),Object(p.jsx)(d.a,{path:xe.ResetPassword,element:Object(p.jsx)(ue,{})}),Object(p.jsx)(d.a,{path:xe.CreatePassword,element:Object(p.jsx)(de,{})})]})})},Ce=function(){var e=V(),t=Object(i.c)(L),n=Object(i.c)(G);return Object(r.useEffect)((function(){e(function(){var e=Object(M.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:n=e.sent,t(H(n.data)),t(Y(!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(Y(!1));case 11:return e.prev=11,t((a=!0,{type:z.SET_INITIALIZATION,payload:{isInitialized:a}})),e.finish(11);case 14:case"end":return e.stop()}var a}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(p.jsx)(u.a,{children:t?Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(ge,{}),Object(p.jsx)(me,{})]}):Object(p.jsx)("div",{children:Object(p.jsx)(Ie,{})})}):Object(p.jsx)(ae,{width:"40px",height:"40px"})},Se=n(21),we=n(38),Te=Object(Se.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.SET_INITIALIZATION:case z.CHANGE_OPERATION_STATUS:case z.SET_IS_LOGGED_IN:case z.SET_ERROR_MESSAGE:return Object(h.a)(Object(h.a)({},e),t.payload);default:return e}},logIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LOGIN":return Object(h.a)(Object(h.a)({},e),{},{email:t.email,name:t.name,isLogin:!0});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REG-FORM":return Object(h.a)({},e);default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET_USER_DATA:case a.UPDATE_PROFILE:return Object(h.a)(Object(h.a)({},e),t.payload);default:return e}}}),Ne=Object(Se.c)(Te,Object(Se.a)(we.a));s.a.render(Object(p.jsx)(i.a,{store:Ne,children:Object(p.jsx)(Ce,{})}),document.getElementById("root")),o()}},[[71,1,2]]]);
//# sourceMappingURL=main.7e8b0d17.chunk.js.map