(this["webpackJsonplocal-cards-app"]=this["webpackJsonplocal-cards-app"]||[]).push([[0],{11:function(e,t,n){e.exports={container:"profileInfo_container__QufAB",info_block:"profileInfo_info_block__1_dJH",inner_info_top:"profileInfo_inner_info_top__3F_a8",ava:"profileInfo_ava__3NeEJ",name:"profileInfo_name__2AOzZ",inner_info_bottom:"profileInfo_inner_info_bottom__2kgha",logout_button:"profileInfo_logout_button__3mlJ6"}},13:function(e,t,n){e.exports={container:"personalInformation_container__3dTGK",title:"personalInformation_title__2JiWd",ava:"personalInformation_ava__2aN2M",input_container:"personalInformation_input_container__38AZ2",button_container:"personalInformation_button_container__aLPc5"}},14:function(e,t,n){e.exports={input:"SuperInputText_input__3shWS",superInput:"SuperInputText_superInput__39g7U",errorInput:"SuperInputText_errorInput__375qZ",error:"SuperInputText_error__1jQFV"}},19:function(e,t,n){e.exports={nav:"Header_nav___BKkR",item:"Header_item__3VOcF",active:"Header_active__1aX-g"}},20:function(e,t,n){e.exports={label:"SuperCheckbox_label__2rxwZ"}},24:function(e,t,n){e.exports={default:"SuperButton_default__Mc-U8"}},25:function(e,t,n){e.exports={container:"preloader_container__2C76n",loader:"preloader_loader__1JtT2",spin:"preloader_spin__UNlg3"}},36:function(e,t,n){e.exports={container:"resetPassword_container__Rs47Q"}},37:function(e,t,n){e.exports={container:"createNewPassword_container__3SUGX"}},43:function(e,t,n){},44:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a,r=n(1),c=n(17),s=n.n(c),o=(n(43),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))}),i=(n(44),n(7)),u=n(9),l=n(19),j=n.n(l),p=n(2),b=n(0),d=function(){return Object(b.jsx)("div",{children:"Error 404"})},O=function(){return Object(b.jsx)("div",{children:"Registration"})},h=n(3),f=n(11),x=n.n(f),_=n(4),m=n(12),v=n(24),g=n.n(v),I=Object(r.memo)((function(e){var t=e.red,n=e.className,a=Object(m.a)(e,["red","className"]),r="".concat(t?g.a.red:g.a.default," ").concat(n);return Object(b.jsx)("button",Object(_.a)({className:r},a))})),E=function(e){return e.app.status},S=function(e){return e.app.isLoggedIn},N=function(e){return e.app.isInitialized},C=function(e){return e.profile},T=n(8),w=n.n(T),k=n(10);!function(e){e.UPDATE_PROFILE="profile/UPDATE-PROFILE",e.SET_USER_DATA="profile/SET-USER-DATA"}(a||(a={}));var P,A=function(e){return{type:a.SET_USER_DATA,payload:Object(_.a)({},e)}},y=function(e){return{type:a.UPDATE_PROFILE,payload:Object(_.a)({},e)}};!function(e){e.SET_IS_LOGGED_IN="Auth/SET-IS-LOGGED-IN",e.SET_ERROR_MESSAGE="App/SET-ERROR-MESSAGE",e.CHANGE_OPERATION_STATUS="App/CHANGE-OPERATION-STATUS",e.SET_INITIALIZATION="App/SET-INITIALIZATION"}(P||(P={}));var R,L=function(e){return{type:P.SET_IS_LOGGED_IN,payload:{isLoggedIn:e}}},G=function(e){return{type:P.CHANGE_OPERATION_STATUS,payload:{status:e}}},U=n(35),D=n.n(U).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0"}),F=function(){return D.post("/auth/me",{})},M=function(e){return D.put("/auth/me",e)},H=function(e,t,n){return D.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},Z=function(){return D.delete("/auth/me/",{})},J=function(e){return D.post("/auth/forgot/",{email:e,from:"test-front-admin <yatsevich-artsiom@yandex.by>",message:"<div style='background-color:lime;padding:15px'><a href='https://defreezz.github.io/cards/#/createNewPassword/$token$'>Password recovery link</a></div>"})},z=function(e,t){return D.post("/auth/set-new-password/",{password:e,resetPasswordToken:t})},B={_id:"",email:"",name:"",avatar:"",publicCardPacksCount:0,created:new Date,updated:new Date,isAdmin:!1,verified:!1,rememberMe:!1,error:""},K=function(){return Object(i.b)()},Q=Object(r.memo)((function(e){var t=e.changeProfileEditingStatus,n=K(),a=Object(i.c)(C),c=Object(r.useCallback)((function(){t(!0)}),[t]),s=Object(r.useCallback)((function(){n(function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z();case 3:t(L(!1)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t((n=e.t0,{type:P.SET_ERROR_MESSAGE,payload:{errorMessage:n}}));case 9:case"end":return e.stop()}var n}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())}),[n]);return Object(b.jsx)("div",{className:x.a.container,children:Object(b.jsxs)("div",{className:x.a.info_block,children:[Object(b.jsxs)("div",{className:x.a.inner_info_top,children:[Object(b.jsx)("img",{alt:"avatar",src:a.avatar,className:x.a.ava}),Object(b.jsx)("div",{className:x.a.name,children:a.name}),Object(b.jsx)(I,{onClick:c,children:"Edit Profile"})]}),Object(b.jsx)("div",{className:x.a.inner_info_bottom,children:Object(b.jsx)("div",{className:x.a.logout_button,children:Object(b.jsx)(I,{onClick:s,children:"Logout"})})})]})})})),V=n(13),W=n.n(V),X=n(14),$=n.n(X),q=Object(r.memo)((function(e){e.type;var t=e.onChange,n=e.onChangeText,a=e.onKeyPress,r=e.onEnter,c=e.error,s=e.className,o=e.spanClassName,i=Object(m.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),u="".concat($.a.error," ").concat(o||""),l="".concat(c?$.a.errorInput:$.a.superInput," ").concat(s||$.a.input);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",Object(_.a)({type:"text",onChange:function(e){t&&t(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),r&&"Enter"===e.key&&r()},className:l},i)),c&&Object(b.jsx)("span",{className:u,children:c})]})})),Y=n(25),ee=n.n(Y),te=function(e){var t=e.width,n=e.height;return Object(b.jsx)("div",{className:ee.a.container,children:Object(b.jsx)("div",{style:{width:t,height:n},className:ee.a.loader})})},ne=Object(r.memo)((function(e){var t=e.changeProfileEditingStatus,n=K(),a=Object(i.c)(C),c=Object(i.c)(E),s=Object(r.useState)(a.name),o=Object(h.a)(s,2),u=o[0],l=o[1],j=Object(r.useState)(a.avatar),p=Object(h.a)(j,2),d=p[0],O=p[1],f=Object(r.useCallback)((function(){t(!1)}),[t]),x=Object(r.useCallback)((function(){var e;n((e={name:u,avatar:d},function(){var t=Object(k.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(G("loading")),t.next=4,M(e);case 4:a=t.sent,n(y(a.data.updatedUser)),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.prev=10,n(G("completed")),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,8,10,13]])})));return function(e){return t.apply(this,arguments)}}()))}),[n,u,d]),_=u===a.name&&d===a.avatar;return Object(b.jsxs)("div",{className:W.a.container,children:[Object(b.jsx)("div",{className:W.a.title,children:"Personal information"}),Object(b.jsx)("img",{alt:"avatar",src:a.avatar,className:W.a.ava}),Object(b.jsxs)("div",{className:W.a.input_container,children:[Object(b.jsx)("span",{children:"Nickname:"}),Object(b.jsx)(q,{value:u,onChangeText:l}),Object(b.jsx)("span",{children:"URL avatar:"}),Object(b.jsx)(q,{value:d,onChangeText:O})]}),Object(b.jsxs)("div",{className:W.a.button_container,children:[Object(b.jsx)(I,{onClick:f,children:"Cancel"}),Object(b.jsxs)(I,{disabled:_,onClick:x,children:[" ","loading"===c?Object(b.jsx)(te,{width:"6px",height:"6px"}):"Save"]})]})]})})),ae=function(){var e=Object(r.useState)(!1),t=Object(h.a)(e,2),n=t[0],a=t[1];return n?Object(b.jsx)(ne,{changeProfileEditingStatus:a}):Object(b.jsx)(Q,{changeProfileEditingStatus:a})},re=n(36),ce=n.n(re),se={email:"",name:""},oe=function(){var e=Object(r.useState)(""),t=Object(h.a)(e,2),n=t[0],a=t[1],c=K(),s=Object(r.useCallback)((function(){c(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J(e);case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()}(n))}),[c,n]);return Object(b.jsxs)("div",{className:ce.a.container,children:[Object(b.jsx)(q,{value:n,placeholder:"email",onChangeText:a}),Object(b.jsx)(I,{disabled:""===n,onClick:s,children:"Send instructions"})]})},ie=n(37),ue=n.n(ie),le=function(){var e=Object(r.useState)(""),t=Object(h.a)(e,2),n=t[0],a=t[1],c=K(),s=Object(p.g)().token,o=Object(r.useCallback)((function(){c(function(e,t){return function(){var n=Object(k.a)(w.a.mark((function n(a){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,z(e,t);case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}()}(n,s))}),[c]);return Object(b.jsxs)("div",{children:["Create new password",Object(b.jsxs)("div",{className:ue.a.container,children:[Object(b.jsx)(q,{placeholder:"new password",value:n,onChangeText:a}),Object(b.jsx)(I,{onClick:o,children:"Create new password"})]})]})},je=n(20),pe=n.n(je),be=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,a=e.className,r=(e.spanClassName,e.children),c=Object(m.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(pe.a.checkbox," ").concat(a||"");return Object(b.jsxs)("label",{className:pe.a.label,children:[Object(b.jsx)("input",Object(_.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:s},c)),Object(b.jsx)("span",{children:r&&Object(b.jsx)("span",{className:pe.a.spanClassName,children:r})})]})},de=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(I,{children:"Button "}),Object(b.jsx)("br",{}),Object(b.jsx)(q,{}),Object(b.jsx)("br",{}),Object(b.jsx)(be,{}),Object(b.jsx)("br",{})]})},Oe=function(){var e=Object(i.b)(),t=Object(r.useState)(""),n=Object(h.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),o=Object(h.a)(s,2),l=o[0],j=o[1],p=Object(r.useState)(!1),d=Object(h.a)(p,2),O=d[0],f=d[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"Sign in"}),Object(b.jsx)("div",{children:"Email"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{value:a,onChange:function(e){return c(e.target.value)}})}),Object(b.jsx)("div",{children:"Password"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{value:l,onChange:function(e){return j(e.target.value)}})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"checkbox",checked:O,onChange:function(){return f(!O)}}),Object(b.jsx)("span",{children:"Remember me"})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(){e(function(e,t,n){return function(a){H(e,t,n).then((function(e){a(function(e,t){return{type:"GET_LOGIN",email:e,name:t}}(e.email,e.name)),a(A(e)),a(L(!0))}))}}(a,l,O)),c(""),j(""),f(!1)},children:"Login"})}),Object(b.jsx)(u.b,{style:{textDecoration:"none",color:"#d39191"},to:R.ResetPassword,children:"Forgot password?"})]})};!function(e){e.LogIn="/login",e.Registration="/registration",e.Profile="/profile",e.ResetPassword="/resetPassword",e.CreatePassword="/createNewPassword",e.SuperComponents="/superComponents",e.Error404="/*"}(R||(R={}));var he,fe=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)(p.c,{children:[Object(b.jsx)(p.a,{path:"/",element:Object(b.jsx)(ae,{})}),Object(b.jsx)(p.a,{path:R.LogIn,element:Object(b.jsx)(Oe,{})}),Object(b.jsx)(p.a,{path:R.Registration,element:Object(b.jsx)(O,{})}),Object(b.jsx)(p.a,{path:R.Profile,element:Object(b.jsx)(ae,{})}),Object(b.jsx)(p.a,{path:R.ResetPassword,element:Object(b.jsx)(oe,{})}),Object(b.jsx)(p.a,{path:R.CreatePassword,element:Object(b.jsx)(le,{})}),Object(b.jsx)(p.a,{path:R.SuperComponents,element:Object(b.jsx)(de,{})}),Object(b.jsx)(p.a,{path:R.Error404,element:Object(b.jsx)(d,{})})]})})},xe=[{name:"Login",path:R.LogIn},{name:"Registration",path:R.Registration},{name:"Profile",path:R.Profile},{name:"404",path:R.Error404},{name:"Reset password",path:R.ResetPassword},{name:"Create  password",path:R.CreatePassword},{name:"SuperComponents",path:R.SuperComponents}],_e=function(e){var t=e.path,n=e.name;return Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(u.b,{to:t,className:function(e){return e.isActive?j.a.active:""},children:n})})},me=function(){return Object(b.jsx)("div",{className:j.a.nav,children:xe.map((function(e,t){return Object(b.jsx)(_e,{name:e.name,path:e.path},"".concat(e.name,"+").concat(t))}))})},ve={isLoggedIn:!1,isInitialized:!1,errorMessage:null,status:"idle"};!function(e){e.LogIn="/login",e.Registration="/registration",e.ResetPassword="/resetPassword",e.CreatePassword="/createNewPassword/:token/*"}(he||(he={}));var ge=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)(p.c,{children:[Object(b.jsx)(p.a,{path:"/",element:Object(b.jsx)(Oe,{})}),Object(b.jsx)(p.a,{path:he.LogIn,element:Object(b.jsx)(Oe,{})}),Object(b.jsx)(p.a,{path:he.Registration,element:Object(b.jsx)(O,{})}),Object(b.jsx)(p.a,{path:he.ResetPassword,element:Object(b.jsx)(oe,{})}),Object(b.jsx)(p.a,{path:he.CreatePassword,element:Object(b.jsx)(le,{})})]})})},Ie=function(){var e=K(),t=Object(i.c)(S),n=Object(i.c)(N);return Object(r.useEffect)((function(){e(function(){var e=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F();case 3:n=e.sent,t(A(n.data)),t(L(!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(L(!1));case 11:return e.prev=11,t((a=!0,{type:P.SET_INITIALIZATION,payload:{isInitialized:a}})),e.finish(11);case 14:case"end":return e.stop()}var a}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(b.jsx)(u.a,{children:t?Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(me,{}),Object(b.jsx)(fe,{})]}):Object(b.jsx)(ge,{})}):Object(b.jsx)(te,{width:"40px",height:"40px"})},Ee=n(21),Se=n(38),Ne={},Ce=Object(Ee.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.SET_INITIALIZATION:case P.CHANGE_OPERATION_STATUS:case P.SET_IS_LOGGED_IN:case P.SET_ERROR_MESSAGE:return Object(_.a)(Object(_.a)({},e),t.payload);default:return e}},logIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LOGIN":return Object(_.a)(Object(_.a)({},e),{},{email:t.email,name:t.name});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;return t.type,e},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET_USER_DATA:case a.UPDATE_PROFILE:return Object(_.a)(Object(_.a)({},e),t.payload);default:return e}}}),Te=Object(Ee.c)(Ce,Object(Ee.a)(Se.a));s.a.render(Object(b.jsx)(i.a,{store:Te,children:Object(b.jsx)(Ie,{})}),document.getElementById("root")),o()}},[[71,1,2]]]);
//# sourceMappingURL=main.0fb442fb.chunk.js.map